<!DOCTYPE html>
	<!--
Google HTML5 slide template

Authors: Luke Mah?? (code)
Marcin Wichary (code and design)

Dominic Mazzoni (browser compatibility)
Charles Chen (ChromeVox support)

URL: http://code.google.com/p/html5slides/
	-->
	
<html>
<head>
	
	<meta charset='utf-8'>
	<title>The Basic Basics</title>
  <meta name="description" content="The Basic Basics:">
  <meta name="author" content="">
  <meta name="generator" content="slidify" />
	
	<!-- LOAD STYLE SHEETS -->
	<link rel="stylesheet" href="http://slidify.googlecode.com/git/inst/libraries/html5slides/default/styles.css">
	<link rel="stylesheet" href="http://slidify.googlecode.com/git/inst/libraries/html5slides/default/uulm.css">
	<link rel="stylesheet" href="http://slidify.googlecode.com/git/inst/libraries/highlight.js/styles/github.css">
  <!-- LOAD CUSTOM CSS -->
  
  <style type="text/css">

</style>
  
</head>
<body style='display: none'>
	
<style type="text/css"> td {border:1px solid white;} </style>
	
<section class='slides layout-widescreen template-io2011'>

<article class = "" id = "slide-1"> 
	<h1>
	<p>The Basic Basics: </p>
	Bayesian Inference <br>
	on a Binomial Proportion
	</h1>
	<h2>Rob Mealey</h2>
</article>

<article class = "" id = "slide-2"> 
<h1>&quot;And you are?&quot;</h1>
</article>

<article class = "" id = "slide-3"> 
	<h3>By a show of hands:</h3>
	<ol class = "build">
		<li> Stats? </li>
		<li> Probability? </li>
		<li> Equations? </li>
		<li> Bayes? </li>
		<li> Code? </li>
	</ol>
</article>

<article class = "" id = "slide-4"> 
	<div class='build'>
	<h1>A Chickensh** Disclaimer</h1>
	</div>
</article>

<article class = "fill" id = "slide-6"> 	    
	<div class='build'>
	<div><img class="centered" src="assets/media/teaching.jpg" width="500" alt="Princess Bride" /></p></div>
	<div><h2 style='font-size:50px;'> I'll do my best <br> not to be tedious <br> about it... </h2></div>
	</div>
</article>

<article class = "" id = "slide-5"> 
	<h3>&quot;Tell em what youâ€™re gonna tell em...&quot;</h3>
	<ul class = "build">
		<li>   A Conceptual Introduction to Bayesian Data Analysis </li>
		<li>   A Few Equations...Ok, a lot of equations. </li>
		<li>   A Little Code </li>
		<li>   Pretty Pictures </li>
		<li>   Maybe A Little History </li>
	</ul>
</article>

<article class = "" id = "slide-11"> 
<div class='build'>
<h1>Fast But Useless Introductions&trade;: <br>
Probability</h1>
<h2>Probability allows us to quantify our uncertainty...</h2>
</div>
</article>

<article class = "" id = "slide-12"> 
<p>Probabilities: </p>
<ol class = "build">
<li> Point probabilities: $80\%$ chance of rain</li>
<li> Probability range </li>
<li> Probability distribution: </p>
<ul class = "build">
<li> A model of uncertainty around some value or process</li>
<li> A function: $y = f(x)$ </li>
<li> Describes the likelihood of specific values of some random variable. </li>
</ul>
</ol>
</article>

<article class = "" id = "slide-14"> 
<p>
<h3>Rules:</h3>
<ul class='build'>
<li>The probability of all possible values of a random variable always sums (or integrates) to 1.</li>
<li>Joint: probability of A and B $$ p(A,B) = p(B,A) = p(A) p(B) $$ </li>
<li>Marginal: probability of A $$ p(A) = p(A)p(B) + p(A)p(\text{not }B)$$ </li>
<li>Conditional: probability of A given x $$ p(A|B) = p(A \text{ and }B) p(B)$$ </li>
</ul>
</p>
</article>

<article class = "fill" id = "slide-13"> >
<img class="centered" src="assets/media/normaldist.png" width="1000" alt="Princess Bride" /></p>
</article>

<article class = "" id = "slide-13"> 
<h3>What does normal mean, anyway?</h3>
<h1>$$ p(x | \mu, \sigma^2) = \frac{1}{\sigma \sqrt{2\pi}} e^{{-\frac{1}{2}} (\frac{x-\mu}{\sigma} )^2} $$</h1>
</article>

<article class = "" id = "slide-7"> 
<div class='build'>
<h1>Fast But Useless Introductions&trade;: Bayes Theorem</h1>
<h4>You need the joint, man...</h4>
<h5>and the conditional...</h5>
</div>
</article>

<article class = "" id = ''>
<h3>This equivalence...</h3>
<h1>
$$ p(A \text{ and } B) = p(B \text{ and } A)$$
</h1>
</article>

<article class = "" id = ''>
<h3>and this definition...</h3>
<h1>
$$ \Rightarrow p(A,B) = p(A|B) p(B) $$
$$ \Rightarrow p(B,A) = p(B|A) p(A) $$
</h1>
<h5>
$$ p(A \text{ and } B) = p(A \text{ given } B) p(B) $$
$$ p(A \text{ and } B) = p(B \text{ given } A) p(A) $$
</h5>
</article>

<article class = "" id = ''>
<h3>implies this relationship...</h3>
<h1>
$$ \Rightarrow p(A|B) p(B) = p(B|A) p(A) $$
</h1>
<h5>
$$ p(A \text{ given } B) p(B) = p(B \text{ given } A) p(A) $$
</h5>
</article>

<article class = "" id = ''>
<h3>Which gives us Bayes Theorem.</h3>
<h1>
$$ \Rightarrow p(A|B) = \frac{p(B|A) p(A)}{p(B)} $$
</h1>
<h5>
$$ p(A \text{ given } B) = \frac{p(B \text{ given } A) p(A)}{p(B)} $$
</h5>
</article>

<article class = "" id = ''>
<h3>Works both ways, obviously.</h3>
<h1>
$$ p(B|A) = \frac{p(A|B) p(A)}{p(A)} $$
</h1>
<h5>
$$ p(B \text{ given } A) = \frac{p(A \text{ given } B) p(A)}{p(A)} $$
</h5>
</article>

<article class = "" id = ''>
<h3>A very accurate test for a very rare disease:</h3>
<h4> Test $98\%$ accurate <br>
$0.2\%$ of population have disease</h4>
<h6>
<p>$p(\text{positive}|\text{disease}) = 0.98$ </p>
<p>$p(\text{disease}) = 0.002$ </p>
<p>$p(\text{positive}) = p(\text{positive}|\text{disease}) p(\text{disease}) 
+ p(\text{positive}|\text{no disease}) p(\text{no disease})$</p>
<p>$p(\text{disease}|\text{positive}) = \frac{p(\text{positive}|\text{disease}) 
p(\text{disease})}{p(\text{positive})} = \frac{0.98 * 0.002}{0.98 * 0.002 + 0.02 * 0.998} = \frac{0.000196}{0.020156} = 0.00894 $</p>
<p>$p(\text{disease}|\text{positive}) = 0.00894 $</p>
</h6>
<h4> $0.89\%$ chance of having disease <br> given an initial positive test</h4>
</article>


<article class = "" id = "slide-41"> 
<h3>The version we will use...</h3>
<h1>$$ p( \theta | Y ) = \frac{p( Y | \theta ) \times p( \theta )}{p( Y )} $$</h1>
<h5>$$ p(\text{parameter} | \text{data} ) = \frac{p( \text{data} | \text{parameter} ) \times p( \text{parameter} )}{p( \text{data} )} $$</h5>
</article>

<article class = "" id = "slide-41">
<h3>Up to a multiplicative constant...</h3>
<h1>$$ p( \theta | Y ) \propto p( Y | \theta ) \times p( \theta ) $$</h1>
<h5>$$ p(\text{parameter} | \text{data} ) \text{ is proportional to } p( \text{data} | \text{parameter} ) \times p( \text{parameter} ) $$</h5>
</article>

<article class = "" id = "slide-41">
<h1>The Prior times the Likelihood <br> is Proportional to the Posterior.</h1>
</article>

<article class = "" id = "slide-14"> 
<h2>So you want to analyze some data...</h2>
</article>

<article class = "" id = "slide-15"> 
<h3>How it begins:</h3>
<ul class = "build">
<li>
	Data: 	
	<table  style='border:1px solid white'>
		<td>$ Y = y_1, y_2, y_3, ..., y_n $ </td>
		<td>$ X = x_1, x_2, x_3, ..., x_n $ </td>
	</table>
</li>
<li>   Quantities of Interest:
	<table  style='border:1px solid white'>
		<td> <div> $\mu_y $</div> </td>
		<td> <div> $ \sigma_y $ </div></td>
		<td> <div> $ \rho_{x,y} $</div> </td>
	</table>
</li>

<li>   Assumptions! </li>
	<table  style='border:1px solid white'>
		<td> <div> $ y = f(x) + \epsilon $</div> </td>
		<td> <div> $ \epsilon \overset{iid}{\sim} WN(0,\sigma^2) $ </div></td>
	</table>
</ul>

</article>

<article class = "" id = "slide-16"> 
<h3>What A Classical Data Analysis Gives Us:</h3>
<p class = 'build'>
<ol>
<li><p>Point estimates </p></li>
<li><p>p values: the probability of observing our sample data under the hypothesis that the true value of the parameter is 0...</p></li>
<li><p>Confidence interval: not a probability range... </p>
<p>An interval that contains all the estimates for our parameter
of interest for which we do not reject a null hypothesis
of equality with our "true" parameter of interest... </p>
</li>
</ol>
<p>All <em>implicitly</em> conditional on our assumptions </p>
<p>(and maybe lots of other assumptions)</p>
</p>
</article>

<article class = "" id = "slide-18"> 
<h2>Advantages of Classical Data Analysis</h2>
</article>

<article class = "fill" id = "slide-18"> 
<p class='build'>
<img class="centered" src="assets/media/getitdone.jpg" width="1000" alt="Princess Bride" />
</p>
</article>

<article class = "" id = "slide-17"> 
<h2> There are reasons... </h2>
<ul class='build'>
<li><p>Easier to DO (and scale).</p></li>
<li><p>Pre-packaged, widely adopted, off-the-shelf solutions.</p></li>
<li><p>Often computationally simpler.</p></li>
<li><p>Easier to black-box it.</p></li>
</ul>
</article>

<article class = "" id = "slide-18"> 
<h2>Disadvantages of Classical Data Analysis</h2>
</article>

<article class = "fill" id = "slide-18"> 
<p class = 'build'>
<img class="centered" src="assets/media/inconceivable_means_02.jpg" width="1000" alt="Princess Bride" />
</p>
</article>

<article class = "fill" id = "slide-19"> 
<p class = 'build'>
<img class="centered" src="assets/media/inflexible.jpg" width="1000" alt="Princess Bride" />
<h4 style="color:white; float:right; font-size:50px;"> Inflexible </h4>
</p>
</article>

<article class = "fill" id = "slide-19"> 
<div class = 'build'>
<img class="centered" src="assets/media/lastJudgment.jpg" width="1100" alt="Princess Bride" />
<h2 style="color:black; font-size:70px;">Asymptotic justifications...</h2>
</div>
</article>

<article class = "" id = "slide-20"> 
<h3>What A Bayesian Data Analysis Gives Us:</h3>
<h1>Probability distributions! </h1>
<h2>Explicitly conditional on our assumptions!</h2>
</article>

<article class = "" id = "slide-18"> 
<h2>Advantages of Bayesian Data Analysis</h2>
</article>

<article class = "fill" id = "slide-19"> 
<p class = 'build'>
<img class="centered" src="assets/media/meanwhatyousay.jpg" height="500" alt="Princess Bride" />
</p>
</article>

<article class = "" id = "slide-21"> 
<h2>It's all probability...</h2>
<ul>
<li><p>Easier to understand what comes out.</p></li>
<li><p>Easier to update and include disparate data sources.</p></li>
<li><p>Flexible.</p></li>
</ul>
</article>

<article class = "" id = "slide-22"> 
<h2>Disadvantages of Bayesian Data Analysis</h2>
</article>

<article class = "fill" id = "slide-22"> 
<div class='build'>
<h2 style='color:black;'>More time <br> feeling dumb.</h2>
<img class="centered" src="assets/media/scratchinghead.jpg" height="500" alt="Fisher"/> 
</div>
</article>

<article class = "fill" id = "slide-22"> 
<div class='build'>
<h2 style='color:#F1253D; font-size:60px'>More difficult to scale.</h2>
<img class="centered" src="assets/media/crowd.jpg" height="500" alt="Fisher"/> 
</div>
</article>

<article class = "" id = "slide-22"> 
<h2>Few widely adopted off-the-shelf solutions.</h2>
<img style= 'float:left' src="assets/media/sas.jpg" height="125" alt="Fisher"/> 
<img style= 'float:right' src="assets/media/stata.jpg" height="125" alt="Fisher"/> 
<img class="centered" src="assets/media/excel.GIF" height="300" alt="Fisher"/> 
</article>

<article class = "" id = "slide-28"> 
<h1>And now for the main event...</h1>
</article>


<article class = "" id = "slide-28"> 
<h2>Our Data: </br> Observations of some process </br> with just two outcomes</h2>
</article>

<article class = "fill" id = "slide-29"> 
<img class="centered" src="assets/media/PossibleOutcomes.png" height="500" alt="Fisher"/> 
</article>

<article class = "" id = "slide-30"> 
<h2>Lots of real-world processes <br> can be modeled like this.</h2>
</article>

<article class = "fill" id = "slide-31"> 
<img src="assets/media/freethrows.jpg" class="centered" width="700" alt="Free Throws"/>
</article>

<article class = "fill" id = "slide-32"> 
<img src="assets/media/barackmccainfinal.jpg" class="centered" width="700" alt="Obama vs. McCain"/>
</article>

<article class = "fill" id = "slide-34"> 
<h2><em>\(Z\) is every occurences of \(z_i\), <br> whether or not they&#39;ve already &quot;happened&quot;</em>...<br>
whether or not they'll all ever happen...</h2>
<h1>$$ Z = z_0,z_1,... $$</h1>
</article>

<article class = "" id = "slide-35"> 
	<h2><em>The outcome of any $z_i$ can only be either $A$ or $B$. <br> <br> i.e. A free throw can either be made or missed... </em></h2>
	<h1>$$ z_i \in (A, B) \forall i $$ </h1>
</article>

<article class = "fill" id = "slide-33"> 
	<img src="assets/media/preggers.jpg" class="centered" height="500" alt="Preggers"/>
	<h4 style='float:right'> In order to model <br> a process mathematically, <br> we have to define <br> one outcome as...</h4>
</article>

<article class = "fill" id = "slide-38"> 
	<div class = 'build'>
	<h5 style='float:right; color:#FCD4AE; font-size:50px' >a <strong>success</strong>...</h5>
	<img src="assets/media/littlegirl.jpg" class="centered" height="500" alt="Preggers"/>
	</div>
</article>

<article class = "fill" id = "slide-38"> 
	<div class = 'build'>
	<h2 style='float:left; color:#CCCCCC;font-size:50px'>and the other as a <strong>failure</strong>. </h2>
	<img src="assets/media/grossboy.jpg" class="centered" height="500" alt="Preggers"/>
	</div>
</article>

<article class = "" id = "slide-40"> 
<h1>
$$
y =     \begin{cases}
1 & \text{if } z==A \\
0 & \text{if } z==B
\end{cases}
$$
</h1>
</article>

<article class = "" id = "">
<h1>$\theta$ equals the proportion <br>
of the $N$ cases of $Z$ <br>
equal to $A$...</h1>
</article>

<article class = "" id = "slide-40"> 
<h1>
$$ \theta = \frac{\Sigma_{i=1}^{N} y_i}{N} = \frac{Y}{N} $$
</h1>
</article>

<article class = "" id = "slide-43"> 
<h3>The Binomial Distribution:</h3>
<h1>$$ p(Y) = {N \choose Y} \theta^Y (1-\theta)^{(N-Y)} $$</h1>
<h4>$$ p(y_i) = \theta^{y_i} (1-\theta)^{(1-y_i)} $$</h4>
</article>

<article class = "fill" id = "">
<h1>$$\theta = 0.2$$</h1>
<img src="assets/media/thetaPoint2.png" height='500' class="centered"/>
</article>

<article class = "fill" id = "">
<h1>$$\theta = 0.5$$</h1>
<img src="assets/media/thetaPoint5.png" height='500' class="centered"/>
</article>

<article class = "fill" id = "">
<h1>$$\theta = 0.8$$</h1>
<img src="assets/media/thetaPoint8.png" height='500' class="centered"/>
</article>

<article class = "" id = "">
<h2>Playing make-believe...</h2>
</article>

<article class = "" id = "">
<ul class = 'build'>
<li>
We don't know $\theta$...<br>
<pre class='language-r'><code>## Generate Theta: Unknown Probability of Success
## Using built-in R pseudo-random number generator
theta_true <- runif(1,0,1)</code></pre>
</li>
<li>
We don't know even know $N$...<br>
<pre class='language-r'><code>## N is random integer between 100,000 and 400,000
N = sample(seq(100000,400000),1)</code></pre>
</li>
<li>Our Dataset:</li>
<pre class='language-r'><code>## A is successes proportion of N
A = round(theta_true*N)
## B is the rest of N
B = N - A
## Zpop is randomly shuffled A successes and B failures
Zpop <- sample(c(rep(1,A),rep(0,B)))</code></pre>
</ul>
</article>

<article class = "fill" id = "slide-44"> 
<h2>Our population...</h2>
<img src="assets/media/PopulationPlot.png" class="centered" height="500"/>
</article>

<article class = "" id = "slide-44"> 
<h3>The Prior:</h3>
<h1>$$p( \theta )$$</h1>
<p>$$p( \theta | Y ) \propto p( Y | \theta ) \times p( \theta )$$</p>
</article>

<article class = "" id = "slide-45"> 
<h3>Beta Distribution:</h3>
<h1>\[ p(\theta) = \theta^{(\alpha - 1)} (1 - \theta)^{(\beta - 1)} \]</h1>
</article>

<article class = "fill" id = "slide-29"> 
<p class='build'>
<img class="centered" src="assets/media/StrongCentralBeta.png" height="500" alt="Fisher"/> 
<img src="assets/media/thetaPoint5.png" height='500' class="centered"/>
</p>
</article>

<article class = "fill" id = "slide-29"> 
<p class='build'>
<img class="centered" src="assets/media/StrongHighBeta.png" height="500" alt="Fisher"/> 
<img src="assets/media/thetaPoint8.png" height='500' class="centered"/>
</p>
</article>

<article class = "fill" id = "slide-29"> 
<p class='build'>
<img class="centered" src="assets/media/StrongLowBeta.png" height="500" alt="Fisher"/> 
<img src="assets/media/thetaPoint2.png" height='500' class="centered"/>
</p>
</article>

<article class = "fill" id = "slide-29"> 
<p class='build'>
<img class="centered" src="assets/media/UniformBeta.png" height="500" alt="Fisher"/> 
<img class="centered" src="assets/media/questionMark.jpg" height="500" alt="Fisher"/> 
</p>
</article>

<article class = "fill" id = "slide-29"> 
<p class='build'>
<img class="centered" src="assets/media/BimodalBeta.png" height="500" alt="Fisher"/> 
<img class="centered" src="assets/media/CrazyOldMan2.jpg" height="500" alt="Fisher"/> 
</p>
</article>

<article class = "" id = "slide-46"> 
<h2>A Visit with Conjugacy...</h2>
</article>

<article class = "" id = "slide-46"> 
<h1><table>
<tr>$$ p(\theta) = \theta^{(\alpha - 1)} (1 - \theta)^{(\beta - 1)} $$</tr>
<tr>$$ p(Y|\theta) = \theta^Y (1-\theta)^{(N-Y)} $$</tr>
</table>
</h1>
</article>

<article class = "" id = "slide-46"> 
<h1>
<table>
<tr>$$ p(Y|\theta) \times p(\theta) = $$</tr>
<tr>$$\theta^{(Y + \alpha -1)} (1-\theta)^{(N - Y + \beta - 1)} $$</tr>
</table>
</h1>
</article>

<article class = "" id = "slide-46"> 
<h1>
<table>
<tr>$$ mean[p(Y|\theta)] = \theta = \frac{\theta \times N}{N} $$</tr>
<tr>$$ mean[p(\theta)] = \frac{\alpha}{\alpha + \beta} $$</tr>
</table>
</h1>
</article>

<article class = "" id = "slide-46"> 
<h1>
<table>
<tr>$$ m = \frac{\alpha}{\alpha + \beta} $$</tr>
<tr>$$ n = \alpha + \beta $$</tr>
</table>
</h1>
</article>

<article class = "" id = "slide-46"> 
<h1>
<table>
<tr>$$ \alpha = m \times n $$</tr>
<tr>$$ \beta = (1 - m) \times n $$</tr>
</table>
</h1>
</article>

<article class = "" id = "slide-47"> 
<pre class = 'language-r'><code>### Function: Prior Plot Values
###################################################
### Function: Prior Plot Values
###################################################
Prior <- function(m, n, a=n*m, b=n*(1-m)){
	dom <- seq(0,1,0.005)
	val <- dbeta(dom,a,b)
	return(data.frame('x'=dom, 'y'=val))
}</code></pre>
<h1>$$ p(\theta) = \theta^{(nm) - 1} (1-\theta)^{(n(1-m)) - 1} $$</h1>
</article>

<article class = "" id = "slide-42"> 
<h3>The Likelihood:</h3>
<h1>$$ p( Y | \theta ) $$</h1>
<h5>$$ p( \theta | Y ) \propto p( Y | \theta ) \times p( \theta )$$</h5>
</article>

<article class = "" id = "slide-42"> 
<pre class = 'language-r'><code>###################################################
### Function: Likelihood Plot Values
###################################################
Likelihood <- function(N, Y){
	a <- Y + 1
	b <- N - Y + 1
	dom <- seq(0,1,0.005)
	val <- dbeta(dom,a,b)
	return(data.frame('x'=dom, 'y'=val))
}</code></pre>
<h1>$$ p( Y | \theta ) = \theta^{(Y)} (1-\theta)^{(N - Y)} $$</h1>
</article>


<article class = "" id = "slide-48"> 
<h3>The Posterior:</h3>
<h1>$$p( \theta | Y ) \propto p( Y | \theta ) \times p( \theta )$$</h1>
<h4>$$p( \theta | Y ) \propto [\theta^{(Y)} (1-\theta)^{(N - Y)}] \times [\theta^{(nm)} (1-\theta)^{(n(1-m))}] $$</h4>
<h5>$$p( \theta | Y ) \propto [\theta^{(Y + nm)} (1-\theta)^{(N - Y + n(1-m))}]$$</h5>
</article>

<article class = "" id = "slide-48"> 
<pre class = 'language-r'><code>###################################################
### Function: Posterior Plot Values
###################################################
Posterior <- function(m, n, N, Y, a_in=n*m, b_in=n*(1-m)){
	a_out <- Y + a_in - 1
	b_out <- N - Y + b_in - 1
	dom <- seq(0,1,0.005)
	val <- dbeta(dom,a_out,b_out)
	return(data.frame('x'=dom, 'y'=val))
}</code></pre>
<h1>$$ p( \theta | Y ) \propto \theta^{(Y + nm)} (1-\theta)^{(N - Y + n(1-m))} $$</h1>
</article>

<article class = "" id = "slide-48"> 
<pre class = 'language-r'><code>###################################################
### Function: Posterior Plot Values
###################################################
Posterior <- function(m, n, N, Y, a_in=n*m, b_in=n*(1-m)){
	a_out <- Y + a_in - 1
	b_out <- N - Y + b_in - 1
	dom <- seq(0,1,0.005)
	val <- dbeta(dom,a_out,b_out)
	return(data.frame('x'=dom, 'y'=val))
}</code></pre>
<p>$$ \beta + 1 = N - Y + n(1-m)$$ $$\rightarrow \beta = N - Y + n(1-m) - 1 $$</p>
<p>$$ \alpha + 1 = (Y + nm)$$ $$\rightarrow \alpha = Y + nm - 1 $$</p>
</article>

<article class = "" id = "slide-48"> 
<pre class = 'language-r'><code>###################################################
### Function: Mean of Posterior Beta
###################################################
MeanOfPosterior <- function(m, n, N, Y, a=n*m, b=n*(1-m)){
	a_out <- Y + a - 1
	b_out <- N - Y + b - 1
	E_posterior <- a_out / (a_out + b_out)
	return(E_posterior)
}

###################################################
### Function: Mode of Posterior Beta
###################################################
ModeOfPosterior <- function(m, n, N, Y, a=n*m, b=n*(1-m)){
	a_out <- Y + a - 1
	b_out <- N - Y + b - 1
	mode_posterior <- (a_out - 1)/(a_out + b_out - 2)
	return(mode_posterior)
}

###################################################
### Function: Standard Deviation of Posterior Beta
###################################################
StdDevOfPosterior <- function(m, n, N, Y, a=n*m, b=n*(1-m)){
	a_out <- Y + a - 1
	b_out <- N - Y + b - 1
	sigma_posterior <- sqrt((a_out*b_out)/(((a_out+b_out)^2)*(a_out+b_out+1)))
	return(sigma_posterior)
}</code></pre>
</article>

<article class = "fill" id = "slide-44"> 
<h2>Our population...</h2>
<img src="assets/media/PopulationPlot.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<h1>Our sample...</h1>
<h2>$N_{samp} = 500 $ <br>
$Y_{samp} = 26 $</h2>
<img src="assets/media/SamplePlot.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<h1>$ p(Y_{samp}|\theta, N) = \theta^{26} (1-\theta)^{(500 - 26)}$ <br>
$p(Y_{samp}|\theta) = \theta^{26} (1-\theta)^{474}$</h1>
<h4>$(\theta_{samp} = \frac{Y_{samp}}{n} = \frac{26}{474} = 0.052)$</h4>
</article>

<article class = "fill" id = "slide-44"> 
<h2>Testing out different priors...</h2>
</article>

<article class = "fill" id = "slide-44"> 
<img src="assets/media/UniformPrior.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<img src="assets/media/WeakHighPrior.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<img src="assets/media/WeakEqualPrior.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<img src="assets/media/WeakLowPrior.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<img src="assets/media/StrongHighPrior.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<img src="assets/media/StrongEqualPrior.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<img src="assets/media/StrongLowPrior.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<img src="assets/media/BimodalPrior.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-44"> 
<h2>So how'd we do?</h2>
</article>

<article class = "" id = "slide-44"> 
<h3>Results...</h3>
<TABLE>
<TR align='center'> <TD> Prior </TD> <TD> Mean </TD> <TD> Mode </TD> <TD> Std Dev </TD> <TD> Alpha </TD> <TD> Beta </TD>  </TD>
  <TR> <TD> Uniform </TD> <TD align="right"> 0.0520 </TD> <TD align="right"> 0.0502 </TD> <TD align="right"> 0.0099 </TD> <TD align="right"> 26 </TD> <TD align="right"> 474 </TD> </TR>
  <TR> <TD> Bimodal </TD> <TD align="right"> 0.0511 </TD> <TD align="right"> 0.0493 </TD> <TD align="right"> 0.0098 </TD> <TD align="right"> 25.5 </TD> <TD align="right"> 473.5 </TD> </TR>
  <TR> <TD> Weak High </TD> <TD align="right"> 0.0669 </TD> <TD align="right"> 0.0652 </TD> <TD align="right"> 0.0111 </TD> <TD align="right"> 34 </TD> <TD align="right"> 474 </TD> </TR>
  <TR> <TD> Weak Equal </TD> <TD align="right"> 0.0591 </TD> <TD align="right"> 0.0573 </TD> <TD align="right"> 0.0104 </TD> <TD align="right"> 30 </TD> <TD align="right"> 478 </TD> </TR>
  <TR> <TD> Weak Low </TD> <TD align="right"> 0.0512 </TD> <TD align="right"> 0.0494 </TD> <TD align="right"> 0.0098 </TD> <TD align="right"> 26 </TD> <TD align="right"> 482 </TD> </TR>
  <TR> <TD> Strong High </TD> <TD align="right"> 0.1923 </TD> <TD align="right"> 0.1913 </TD> <TD align="right"> 0.0161 </TD> <TD align="right"> 115 </TD> <TD align="right"> 483 </TD> </TR>
  <TR> <TD> Strong Equal </TD> <TD align="right"> 0.1254 </TD> <TD align="right"> 0.1242 </TD> <TD align="right"> 0.0135 </TD> <TD align="right"> 75 </TD> <TD align="right"> 523 </TD> </TR>
  <TR> <TD> Strong Low </TD> <TD align="right"> 0.0585 </TD> <TD align="right"> 0.0570 </TD> <TD align="right"> 0.0096 </TD> <TD align="right"> 35 </TD> <TD align="right"> 563 </TD> </TR>
   </TABLE>
<h4>$$\theta_{true} = 0.042$$</h4>
</article>

<article class = "fill" id = "slide-44"> 
<h2>Our population...</h2>
<img src="assets/media/PopulationPlot.png" class="centered" height="500"/>
</article>

<article class = "" id = "slide-50"> 
<h1>$$\theta_{mle} = \frac{Y_{samp}}{n} = \frac{26}{474} = 0.052$$</h1>
</article>

<article class = "" id = "slide-50"> 
<h1>A p value...</h1>
</article>

<article class = "" id = "slide-50"> 
<h1>a p value...</h1>
</article>

<article class = "" id = "slide-54"> 
<h2>And for my next trick...</h2>
</article>

<article class = "fill" id = "slide-32"> 
<img src="assets/media/barackmccainfinal.jpg" class="centered" width="700" alt="Obama vs. McCain"/>
</article>

<article class = "" id = "slide-32"> 
<h3>Using only these models...</h3>
<pre class = 'language-r'><code>#### 2008 Election ####
# 2008 Parameters
elecDay <- '2008-11-04'
cutOff <- '2008-08-01'
elecPassed = T
elecType <- 'President'
candidates <- list('d'='Obama','r'='McCain')
d_m = 0.5
r_m = 0.5
init_n = 2</code></pre>
<h2> 
<p>Two binomial proportion models, one for each candidate.</p>
<p>The prior for each update after the first
is the posterior of the last model.</p> </h2>
</article>

<article class = "" id = "slide-32"> 
<h2>The Data...</h2>
</article>

<article class = "" id = "slide-32"> 
<h2>Any one affiliated with Real Clear Politics?</h2>
</article>

<article class = "fill" id = "slide-32"> 
<p class='build'>
<img src="assets/media/RCPIndiana.png" class="centered" height="500"/>
</p>
</article>

<article class = "" id = "slide-32"> 
<p class='build'>
<img src="assets/media/RCP_IN2.png" class="centered" height="800"/>
</p>
</article>

<article class = "" id = "slide-32"> 
<h2>18 states with full polling data still 'available'...</h2>
</article>

<article class = "fill" id = "slide-32"> 
<img src="assets/media/INtrendPlot08.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-32"> 
<img src="assets/media/MOtrendPlot08.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-32"> 
<img src="assets/media/NCtrendPlot08.png" class="centered" height="500"/>
</article>

<article class = "" id = "slide-32"> 
<h3>RCP Predictions</h3>
<TABLE style="border-collapse: collapse;">
<TR align='center'> <TD>  </TD> <TD align="center"> Obama </TD> <TD align="center"> McCain </TD> <TD> Predicted Outcome </TD> <TD> Predicted Winner </TD> <TD> Forecast Error </TD>  </TR>
   <TR> <TD> FL </TD> <TD align="right"> 49.00 </TD> <TD align="right"> 47.20 </TD> <TD align="right"> 1.80 </TD> <TD align="center"> Obama </TD> <TD align="right"> 1.00 </TD> </TR>
  <TR> <TD> IN </TD> <TD align="right"> 46.40 </TD> <TD align="right"> 47.80 </TD> <TD align="right"> -1.40 </TD> <TD align="center"> McCain </TD> <TD align="right"> 2.50 </TD> </TR>
  <TR> <TD> MO </TD> <TD align="right"> 47.80 </TD> <TD align="right"> 48.50 </TD> <TD align="right"> -0.70 </TD> <TD align="center"> McCain </TD> <TD align="right"> 0.60 </TD> </TR>
  <TR> <TD> NC </TD> <TD align="right"> 48.00 </TD> <TD align="right"> 48.40 </TD> <TD align="right"> -0.40 </TD> <TD align="center"> McCain </TD> <TD align="right"> 0.70 </TD> </TR>
  <TR> <TD> NH </TD> <TD align="right"> 52.80 </TD> <TD align="right"> 42.20 </TD> <TD align="right"> 10.60 </TD> <TD align="center"> Obama </TD> <TD align="right"> 1.00 </TD> </TR>
  <TR> <TD> OH </TD> <TD align="right"> 48.80 </TD> <TD align="right"> 46.30 </TD> <TD align="right"> 2.50 </TD> <TD align="center"> Obama </TD> <TD align="right"> 2.10 </TD> </TR>
  <TR> <TD> VA </TD> <TD align="right"> 50.20 </TD> <TD align="right"> 45.80 </TD> <TD align="right"> 4.40 </TD> <TD align="center"> Obama </TD> <TD align="right"> 1.90 </TD> </TR>
   </TABLE>
</article>

<article class = "fill" id = "slide-32"> 
<h3>RCP Predictions</h3>
<img src="assets/media/RcpPredMap.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-32"> 
<h3>My Predictions</h3>
<TABLE style="border-collapse: collapse;">
<TR align='center'> <TD>  </TD> <TD align="center"> Obama </TD> <TD align="center"> McCain </TD> <TD> Predicted Outcome </TD> <TD> Predicted Winner </TD> <TD> Forecast Error </TD>  </TR>
  <TR> <TD align="right"> FL </TD> <TD align="right"> 47.40 </TD> <TD align="right"> 46.50 </TD> <TD align="right"> 0.90 </TD> <TD align="center"> Obama </TD> <TD align="right"> 1.90 </TD> </TR>
  <TR> <TD align="right"> IN </TD> <TD align="right"> 46.50 </TD> <TD align="right"> 47.40 </TD> <TD align="right"> -0.90 </TD> <TD align="center"> McCain </TD> <TD align="right"> 2.00 </TD> </TR>
  <TR> <TD align="right"> MO </TD> <TD align="right"> 47.40 </TD> <TD align="right"> 47.70 </TD> <TD align="right"> -0.30 </TD> <TD align="center"> McCain </TD> <TD align="right"> 0.20 </TD> </TR>
  <TR> <TD align="right"> NC </TD> <TD align="right"> 47.40 </TD> <TD align="right"> 47.30 </TD> <TD align="right"> 0.10 </TD> <TD align="center"> Obama </TD> <TD align="right"> 0.20 </TD> </TR>
  <TR> <TD align="right"> NH </TD> <TD align="right"> 50.70 </TD> <TD align="right"> 42.60 </TD> <TD align="right"> 8.10 </TD> <TD align="center"> Obama </TD> <TD align="right"> 1.50 </TD> </TR>
  <TR> <TD align="right"> OH </TD> <TD align="right"> 47.80 </TD> <TD align="right"> 45.30 </TD> <TD align="right"> 2.50 </TD> <TD align="center"> Obama </TD> <TD align="right"> 2.10 </TD> </TR>
  <TR> <TD align="right"> VA </TD> <TD align="right"> 49.40 </TD> <TD align="right"> 45.50 </TD> <TD align="right"> 3.90 </TD> <TD align="center"> Obama </TD> <TD align="right"> 2.40 </TD> </TR>
  </TABLE>
</article>

<article class = "fill" id = "slide-32"> 
<h3>My Predictions</h3>
<img src="assets/media/MyPredMap.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-32"> 
<h3>Actual Outcomes</h3>
<TABLE style="border-collapse: collapse;">
<TR align='center'> <TD>  </TD> <TD align="center"> Obama </TD> <TD align="center"> McCain </TD> <TD> Outcome </TD> <TD> Winner </TD>  </TR>
  <TR> <TD> FL </TD> <TD align="right"> 51.00 </TD> <TD align="right"> 48.20 </TD> <TD align="right"> 2.80 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD> IN </TD> <TD align="right"> 50.00 </TD> <TD align="right"> 48.90 </TD> <TD align="right"> 1.10 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD> MO </TD> <TD align="right"> 49.30 </TD> <TD align="right"> 49.40 </TD> <TD align="right"> -0.10 </TD> <TD align="center"> McCain </TD> </TR>
  <TR> <TD> NC </TD> <TD align="right"> 49.70 </TD> <TD align="right"> 49.40 </TD> <TD align="right"> 0.30 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD> NH </TD> <TD align="right"> 54.10 </TD> <TD align="right"> 44.50 </TD> <TD align="right"> 9.60 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD> OH </TD> <TD align="right"> 51.50 </TD> <TD align="right"> 46.90 </TD> <TD align="right"> 4.60 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD> VA </TD> <TD align="right"> 52.60 </TD> <TD align="right"> 46.30 </TD> <TD align="right"> 6.30 </TD> <TD align="center"> Obama </TD> </TR>
   </TABLE>
</article>

<article class = "fill" id = "slide-32"> 
<h3>Actual Outcomes</h3>
<img src="assets/media/ActualOutcomesMap.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-32"> 
<h3>Performance...</h3>
<TABLE>
<TR> <TD>  </TD> <TD> RMSE </TD> <TD> RMSE, Diff &lt  2% </TD> <TD> Number Correctly Predicted </TD>  </TR>
  <TR> <TD align="center"> My Predictions </TD> <TD align="right"> 4.27 </TD> <TD align="right"> 1.17 </TD> <TD align="right"> 17.00 </TD> </TR>
  <TR> <TD align="center"> RealClearPolitics Predictions </TD> <TD align="right"> 3.23 </TD> <TD align="right"> 1.54 </TD> <TD align="right"> 16.00 </TD> </TR>
   </TABLE>
</article>

<article class = "fill" id = "slide-32"> 
<h2>So what about...</h2>
</article>

<article class = "fill" id = "slide-32"> 
<img src="assets/media/obamaRomney.jpg" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-32"> 
<h3>RCP Predictions</h3>
<TABLE style="border-collapse: collapse;">
<TR align='center'> <TD>  </TD> <TD align="center"> Obama </TD> <TD align="center"> Romney </TD> <TD> Outcome </TD> <TD> Winner </TD>  </TR>
  <TR> <TD align="right"> CO </TD> <TD align="right"> 48.70 </TD> <TD align="right"> 45.80 </TD> <TD align="right"> 2.90 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD align="right"> FL </TD> <TD align="right"> 49.30 </TD> <TD align="right"> 46.10 </TD> <TD align="right"> 3.20 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD align="right"> MO </TD> <TD align="right"> 43.00 </TD> <TD align="right"> 50.30 </TD> <TD align="right"> -7.30 </TD> <TD align="center"> Romney </TD> </TR>
  <TR> <TD align="right"> NC </TD> <TD align="right"> 47.80 </TD> <TD align="right"> 46.70 </TD> <TD align="right"> 1.10 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD align="right"> NH </TD> <TD align="right"> 48.70 </TD> <TD align="right"> 45.70 </TD> <TD align="right"> 3.00 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD align="right"> VA </TD> <TD align="right"> 48.70 </TD> <TD align="right"> 45.00 </TD> <TD align="right"> 3.70 </TD> <TD align="center"> Obama </TD> </TR>
   </TABLE>
</article>

<article class = "fill" id = "slide-32"> 
<h3>RCP Predictions</h3>
<img src="assets/media/RcpPredMap2012.png" class="centered" height="500"/>
</article>


<article class = "fill" id = "slide-32"> 
<h3>My Predictions</h3>
<TABLE style="border-collapse: collapse;">
<TR align='center'> <TD>  </TD> <TD align="center"> Obama </TD> <TD align="center"> Romney </TD> <TD> Outcome </TD> <TD> Winner </TD>  </TR>
  <TR> <TD align="right"> CO </TD> <TD align="right"> 47.90 </TD> <TD align="right"> 46.10 </TD> <TD align="right"> 1.80 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD align="right"> FL </TD> <TD align="right"> 48.10 </TD> <TD align="right"> 46.30 </TD> <TD align="right"> 1.80 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD align="right"> MO </TD> <TD align="right"> 42.70 </TD> <TD align="right"> 49.30 </TD> <TD align="right"> -6.60 </TD> <TD align="center"> Romney </TD> </TR>
  <TR> <TD align="right"> NC </TD> <TD align="right"> 46.60 </TD> <TD align="right"> 47.20 </TD> <TD align="right"> -0.60 </TD> <TD align="center"> Romney </TD> </TR>
  <TR> <TD align="right"> NH </TD> <TD align="right"> 49.00 </TD> <TD align="right"> 44.80 </TD> <TD align="right"> 4.20 </TD> <TD align="center"> Obama </TD> </TR>
  <TR> <TD align="right"> VA </TD> <TD align="right"> 47.80 </TD> <TD align="right"> 45.50 </TD> <TD align="right"> 2.30 </TD> <TD align="center"> Obama </TD> </TR>
   </TABLE>
</article>

<article class = "fill" id = "slide-32"> 
<h3>My Predictions</h3>
<img src="assets/media/MyPredMap2012.png" class="centered" height="500"/>
</article>


<article class = "fill" id = "slide-32"> 
<img src="assets/media/NCtrendPlot12.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-32"> 
<img src="assets/media/NHtrendPlot12.png" class="centered" height="500"/>
</article>

<article class = "fill" id = "slide-32"> 
<img src="assets/media/MOtrendPlot12.png" class="centered" height="500"/>
</article>

<article>
<h2> And if we have time... </h2>
</article>

<article class = "" id = "slide-23"> 
<h1>A Tiny Bit of Context: The Holy War</h1>
<h2>&quot;SUBJECTIVE!&quot; </br> &quot;UNINTUITIVE!&quot; </br> &quot;ASYMPTOTIC!&quot; </br> &quot;INTRACTABLE!&quot;</h2>
</article>

<article class = "fill" id = "slide-24"> 
<h4 style='color:black;float:left;'>Pierre LaPlace:</h4> 
<h4 style='color:black;float:right;'> "I'm pretty famous."</h4>
<img class = "centered" src= "assets/media/laplace.jpg" height="100%" alt="LaPlace" />
</article>

<article class = "fill" id = "slide-24"> 
<img class = "centered" src= "assets/media/laplace2.jpg" alt="LaPlace" />
<h1 style='color:white;'>"The theory of probabilities is at bottom nothing but common sense reduced to calculus; <br>
it enables us to appreciate with exactness that which accurate minds 
feel with a sort of instinct for which of times they are unable to account."</h1>
</article>

<article>
<h1> What's the collective noun <br>
for a group of statisticians? </h1>
</article>

<article>
<h1> A "quarrel". </h1>
</article>

<article>
<h2> In the Bayesian corner... </h2>
</article>

<article class = "fill" id = "slide-25"> 
<h4 style='color:white;float:left;'>Harold Jeffreys</h4>
<h4 style='color:white;float:right;'>"Oh. <br> Oh dear.  </br> Well, then.  
</br> I do believe...  </br> I definitely don't..." <br> </h4>
<img class="centered" src="assets/media/jeffreys.jpg" height="500"  alt="Jeffreys"/> 
</article>

<article class = "fill" id = "slide-25"> 
<h1 style='color:white;'>"The scientific method is neither deduction from a 
set of axioms nor a way of making plausible guesses, 
as Bertrand Russell said; but that it is a matter of 
successive approximation to probability distributions."</h1>
<img class="centered" src="assets/media/jeffreys2.jpg" height="500"  alt="Jeffreys"/> 
</article>

<article class = "" id = "">
<h2> And the winner... </h2>
</article>

<article class = "fill" id = "slide-26"> 
<h4 style='color:black;float:left;'>R. A. Fisher: </h4>
<img class="centered" src="assets/media/fisher.jpeg" height="500" alt="Fisher"/>
<h4 style='color:red;float:right;'> "Clever. <br> Now I will <br> ruin you." </h4>
</article>

<article class = "fill" id = "slide-26"> 
<img class="centered" src="assets/media/fisher2.jpeg" height="500" alt="Fisher"/> 
<h2 style='color:white;float:right;'> "Critical tests of this kind may be called tests of significance, 
and when such tests are available we may discover whether a second sample is or is not significantly different from the first."
</h2>
</article>

<article class = "" id = "slide-27"> 
<div class='build'>
<img style='float:right;' class="centered" src="assets/media/logs.jpg" height="400" alt="Fisher"/> 
<img style='float:left;' class="centered" src="assets/media/abacus.jpg" height="400" alt="Fisher"/> 
</div>
</article>

<article class = "fill" id = "slide-27"> 
<div class='build'>
<img class="centered" src="assets/media/Human_computers.jpg" height="400" alt="Fisher"/> 
<h2 style='color:pink;' >Manhattan Project: <br> Human "Computers" at Work...</h2>
</div>
</article>

<article class = "" id = "slide-27"> 
<h1>But the thing is...</h1>
</article>

<article class = "" id = "slide-27"> 
<img class="centered" src="assets/media/mooreslaw.jpg" height="600" alt="Fisher"/> 
</article>

<article class = "" id = "slide-27"> 
<h1>Enough of that...</h1>
</article>

<article class = "" id = "slide-56"> 
<h1>All the code for both the simulation and electoral model is up on github...</h1>
<p><a href="https://github.com/robbymeals/dsdcSimulation"> Simulation Code </a></p>
<p><a href="https://github.com/robbymeals/dsdcElectionExample"> Election Code </a></p>
</article>

<article class = "" id = "slide-56"> 
<h1>These slides will be hosted at: <br>
<a href='obscureanalytics.com/dsdc/binomProp.html'>www.obscureanalytics.com</a></h1>
</article>

<article class = "fill" id = "slide-57"> 
<h2 style='color:white;'>Questions?</h2>
<img class="centered" src="assets/media/nervousman.jpg" height="500" alt="Fisher"/> 
</article>
</section>
</body>
<!-- LOAD JAVASCRIPTS  -->
<script src='http://slidify.googlecode.com/git/inst/libraries/html5slides/default/slides.js'></script>
<!-- LOAD MATHJAX JS -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
processEscapes: true
}
});
</script>
<script type="text/javascript"  
src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- DONE LOADING MATHJAX -->
<!-- LOAD HIGHLIGHTER JS FILES -->
<script src="http://slidify.googlecode.com/git/inst/libraries/highlight.js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- DONE LOADING CSS FILES AND JS -->

</html>

